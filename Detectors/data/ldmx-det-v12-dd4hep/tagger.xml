<detectors>

  <comment>Tagger tracker</comment>

  <detector id="tagger_tracker_id" name="tagger_tracker" type="tracker" readout="TrackerHits" vis="DetEnvelopeVis">
    <comment>
      The dimensions are used to instantiate the tagger tracker envelope volume 
      as a "Box" object. The Box object in dd4hep represents TGeoBBox which
      requires the dimensions (dx, dy, dz) to be given as half lenghts.
    </comment>
    <dimensions dx="tagger_env_x/2" dy="tagger_env_y/2" dz="tagger_env_z/2" />
    <position x="0.*mm" y="0.*mm" z="tagger_env_pos_z" />

    <comment> 
      The module positions are defined in the local coordinate system of the 
      tagger envelope volume. 
      
      The layer positions are defined in the local coordinate system of the 
      module assembly volume. 
    </comment>
    <module id="1">
      <position x="tagger_l1_x" y="0*mm" z="tagger_l1_env_mid_z" />
      <layer id="1" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="2" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="stereo_angle" y="0" z="0" />
      </layer>
    </module>

    <module id="2">
      <position x="tagger_l2_x" y="0*mm" z="tagger_l2_env_mid_z" />
      <layer id="3" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="4" material="Silicon" >
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="-stereo_angle" y="0" z="0" />
      </layer>
    </module>

    <module id="3">
      <position x="tagger_l3_x" y="0*mm" z="tagger_l3_env_mid_z" />
      <layer id="5" material="Silicon" >
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="6" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="stereo_angle" y="0" z="0" />
      </layer>
    </module>

    <module id="4">
      <position x="tagger_l4_x" y="0*mm" z="tagger_l4_env_mid_z" />
      <layer id="7" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="8" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="-stereo_angle" y="0" z="0" />
      </layer>
    </module>

    <module id="5">
      <position x="tagger_l5_x" y="0*mm" z="tagger_l5_env_mid_z" />
      <layer id="9" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="10" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="stereo_angle" y="0" z="0" />
      </layer>
    </module>

    <module id="6">
      <position x="tagger_l6_x" y="0*mm" z="tagger_l6_env_mid_z" />
      <layer id="11" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="12" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="-stereo_angle" y="0" z="0" />
      </layer>
    </module>
    <module id="7">
      <position x="tagger_l7_x" y="0*mm" z="tagger_l7_env_mid_z" />
      <layer id="13" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="tagger_layer_offset" />
      </layer>
      <layer id="14" material="Silicon" > 
        <dimensions dx="tracker_sensor_x/2" dy="tracker_sensor_y/2" dz="tracker_sensor_thickness/2" />
        <position x="0.*mm" y="0.*mm" z="-tagger_layer_offset" />
        <rotation x="stereo_angle" y="0" z="0" />
      </layer>
    </module> 
  </detector>

</detectors>
