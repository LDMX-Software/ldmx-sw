<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>LDMX Software: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LDMX Software
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor"># ldmx-sw</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;The *ldmx-sw* github repository contains a C++ software framework <span class="keywordflow">for</span> the proposed [Light Dark Matter Experiment (LDMX)](https:<span class="comment">//confluence.slac.stanford.edu/display/MME/Light+Dark+Matter+Experiment) based at [SLAC](https://slac.stanford.edu).</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Currently it includes the following modules:</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;- [Event](https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw/tree/master/Event) - Event model classes and ROOT IO implementation</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;- [SimApplication](https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw/tree/master/SimApplication) - Geant4 simulation application with GDML input and ROOT output</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;- [Detectors](https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw/tree/master/Detectors) - GDML detector data files</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;- [DetDescr](https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw/tree/master/DetDescr) - Detector description utilities including detector ID encoding and decoding</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;- [SimPlugins](https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw/tree/master/SimPlugins) - Sim plugin framework providing dynamically loaded user action hooks in Geant4</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;The primary program created from building <span class="keyword">this</span> framework is a simulation application which reads a [GDML](http:<span class="comment">//gdml.web.cern.ch/GDML/) detector description and writes out a [ROOT](https://root.cern.ch) file containing the simulated hits and particles.  The output file can be loaded into the ROOT environment for analysis.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">## Prerequisites</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;You will need the following build tools available in your environment before beginning the installation.</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;### Linux</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;The software has been built and tested on CentOS7 and RHEL6.  Using an older Linux releases such as RHEL6 or SLC6 will require you to install and use a more up to date compiler (gcc 4.8 is preferable) than the <span class="keywordflow">default</span> system one.</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;### CMake</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;You should have at least CMake 3.0 installed on your machine, and preferably a current version from the [CMake website](https:<span class="comment">//cmake.org).  As of this writing, the current CMake version is the 3.6.2 release.  The installation will not work with any 2.x version of cmake, which is too old.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">### GCC</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;You will need a version of GCC that supports the C++-11 standard.  I believe that ROOT6 is not compatible with GCC 5 so a 4.7 or 4.8 release is preferrable.  The <span class="keywordflow">default</span> compiler on CentOS7 or RHEL7 should suffice.</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;## External Packages</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;You will first need to install or have available at your site a number of external dependencies before building the actual framework.</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;## Xerces</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;The [Xerces C++](http:<span class="comment">//xerces.apache.org/xerces-c/download.cgi) framework is required for GDML support in Geant4 so it must be installed first.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;You can install it from scratch <span class="keyword">using</span> a series of commands such as the following:</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;``` bash</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;wget http:<span class="comment">//download.nextag.com/apache/xerces/c/3/sources/xerces-c-3.1.4.tar.gz</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;tar -zxvf xerces-c-3.1.4.tar.gz</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;cd xerces-c-3.1.4</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;./configure --prefix=$PWD</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;make install</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;export XERCESDIR=$PWD</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;```</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;The *XERCESDIR* environment variable is optional and <span class="keywordflow">for</span> convenience.  Where you see these types of variables in these instructions, you may also substitute the actual full path to your local installation of that dependency.</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;## Geant4</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;You need to have a local Geant4 installation available with GDML enabled.  You can check <span class="keywordflow">for</span> <span class="keyword">this</span> by looking <span class="keywordflow">for</span> the header files in the Geant4 include dir, e.g. by doing `ls G4GDML*.hh` from that directory.  If no files are found, then it is not enabled in your installation.</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;Assuming you have [downloaded a Geant4 tarball](http:<span class="comment">//geant4.web.cern.ch/geant4/support/download.shtml), the installation procedure is like the following:</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;``` bash</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;tar -zxvf geant4.10.02.p02.tar.gz</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;cd geant4.10.02.p02</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;mkdir build; cd build</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;cmake -DGEANT4_USE_GDML=ON -DGEANT4_INSTALL_DATA=ON -DXERCESC_ROOT_DIR=$XERCESDIR \</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    -DGEANT4_USE_OPENGL_X11=ON -DCMAKE_INSTALL_PREFIX=../../geant4.10.02.p02-install ..</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;make install</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;cd ../../geant4.10.02.p02-install</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;export G4DIR=$PWD</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;```</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;If you <span class="keyword">get</span> errors about Xerces not being found, then check that the path you provided is correct and that the directory contains a lib dir with the Xerces so (shared library) files.</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;## ROOT</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;LDMX is standardizing on ROOT 6, and no support <span class="keywordflow">for</span> ROOT 5 is planned.</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;ROOT has many installation options and optional dependencies, and the [building ROOT documentation](https:<span class="comment">//root.cern.ch/building-root) covers this in full detail.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;These commands should install a current version of ROOT locally:</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;``` bash</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;wget https:<span class="comment">//root.cern.ch/download/root_v6.06.08.source.tar.gz</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;tar -zxvf root_v6.06.08.source.tar.gz</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;mkdir root-6.06.08-build</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;cd root-6.06.08-build</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;cmake -Dgdml=ON ../root-6.06.08</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;make </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;export ROOTDIR=$PWD</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;```</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;Depending on what extra tools you want to use in ROOT, you should supply your own extra CMake arguments to enable them.</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;## Building ldmx-sw</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;Now that Geant4 is installed with GDML support along with ROOT, you should be able to compile the LDMX software framework.</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;These commands should install the software locally:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;``` bash</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;git clone https:<span class="comment">//github.com/LDMXAnalysis/ldmx-sw.git</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;cd ldmx-sw</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;mkdir build; cd build</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;cmake -DGeant4_DIR=$G4DIR -DROOT_DIR=$ROOTDIR -DCMAKE_INSTALL_PREFIX=../ldmx-sw-install ..</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;make install</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;```</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;Now you should have an installation of *ldmx-sw* in the *ldmx-sw-install* directory.</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;## Setting Up the Environment </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;The build will generate a script <span class="keywordflow">for</span> setting up the shell environment that is necessary to run the binaries.  The script is automatically copied to the `bin` directory of your installation directory when running `make install`.</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;Assuming your source and installation directories are the same, you can source the generated setup script as follows:</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;``` bash</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;. ./ldmx-sw/bin/ldmx-setup-env.sh</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;```</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;The only additional step is adding the Xerces library directory to the load library path:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;``` bash</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/xerces/install/dir/lib</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;```</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;Replace the above path with the actual full path to your Xerces library directory.</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;Finally, you may want to set the following environment variable to avoid certain memory errors when running the programs:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;``` bash</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;export MALLOC_CHECK_=0</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;```</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;Once you have executed the above commands in your shell, you should be able to execute programs like `ldmx-sim` without any additional setup.</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;## Running the LDMX Simulation Application</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;There is currently one main binary program created by the framework which is the LDMX Simulation Application.</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;It can be run from the command line in interactive mode <span class="keyword">using</span> the `ldmx-sim` command or in batch mode by supplying a macro like `ldmx-sim run.mac`.</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;A sample macro might include the following to generate events <span class="keyword">using</span> the particle gun:</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;```</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;/persistency/gdml/read detector.gdml</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;/run/initialize</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;/gun/particle e-</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;/gun/energy 4 GeV</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;/gun/position -27.926 5 -700 mm</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;/gun/direction 0.3138 0 3.9877 GeV</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;/run/beamOn 1000</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;```</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;LHE input events in XML format can also be used <span class="keywordflow">for</span> <span class="keyword">event</span> generation:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;```</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;/persistency/gdml/read detector.gdml</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;/run/initialize</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;/ldmx/generators/lhe/open ./events.lhe</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;/run/beamOn 1000</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;```</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;The detector file is located in the *Detectors* module data directory and the easiest way to access <span class="keyword">this</span> is by setting some sym links in your current directory <span class="keyword">using</span> `ln -s ldmx-sw/Detectors/data/ldmx-det-full-v0<span class="comment">/*.gdml .`, and then the program should be able to find all the detector files.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">## Contributing</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">To contribute code to the project, you will need to create an account on [github](https://github.com/) if you don&#39;t have one already, and then request to be added to the [LDMXAnalysis](https://github.com/orgs/LDMXAnalysis/) organization.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">When adding new code, you should do this on a branch created by a command like `git checkout -b johndoe-dev` in order to make sure you don&#39;t apply changes directly to the master (replace &quot;johndoe&quot; with your user name).  We typically create branches based on issue names in the github bug tracker, so &quot;Issue 1234&quot; turns into the branch name `iss1234`.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">Then you would `git add` and `git commit` your changes to this branch.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">You can then merge in these changes to the local master by doing `git checkout master` and then `git merge johndoe-dev` which will apply your branch updates.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">If you don&#39;t already have SSH keys configured, you can set this up as follows:</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">1. [Generate a new SSH key pair](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">2. Add the new SSH key to your github account under settings in the [SSH and GPG keys](https://github.com/settings/keys) tab.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">3. Add the key to your SSH config file.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">My *~/.ssh/config* file looks like this:</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">```</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">Host github.com</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  Hostname github.com</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">  User git</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  IdentityFile ~/.ssh/id_rsa_github</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  PreferredAuthentications publickey</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">```</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">Now you can push changes to the master using the command `git push git@github.com:LDMXAnalysis/ldmx-sw.git` without needing to type your user name or password. </span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">## Pull Requests</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">We prefer that any major code contributions are submitted via [pull requests](https://help.github.com/articles/creating-a-pull-request/) so that they can be reviewed before changes are merged into the master.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">Before you start, an [issue should be added to the ldmx-sw issue tracker](https://github.com/LDMXAnalysis/ldmx-sw/issues/new).</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">Then you should make a local branch from the master using a command like `git checkout -b iss1234` where _1234_ is the issue number from the issue tracker.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">Once you have committed your local changes to this branch using the `git add` and `git commit` commands, then push your branch to github using a command like `git push -u origin iss1234`.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">Finally, [submit a pull request](https://github.com/LDMXAnalysis/ldmx-sw/compare) to integrate your changes by selecting your branch in the _compare_ dropdown box and clicking the green buttons to make the PR.  This should be reviewed shortly and merged or changes may be requested before the code can be integrated into the master.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">## Help</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">Comments, suggestions or cries for help can be sent to [Jeremy McCormick](mailto:jeremym@slac.stanford.edu) or posted in the [#simulation channel](https://ldmxsoftware.slack.com/messages/simulation/) of the [LDMX Software Slack](https://ldmxsoftware.slack.com/).  </span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">If you plan on starting a major (sub)project within the repository like adding a new code module, you should give advance notice and explain your plains beforehand.  :)</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">## References</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">* [LDMX Simulation Framework](https://www.dropbox.com/s/oosmuyo553kvlce/LDMX%20Simulation%20Framework.pptx?dl=0) - Powerpoint presentation</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
